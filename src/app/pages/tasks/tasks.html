<app-dashboard-base-layout [sectionPage]="'Tarefas'">
    <section class="filter-section">
        <input type="text" class="white" name="seekTask" id="seekTask" placeholder="Buscar tarefa">
        <select class="white" name="state" id="state">
            <option value="0">Todas as tarefas</option>
            <option value="1">Em atraso</option>
            <option value="2">Para concluir hoje</option>
            <option value="3">Para concluir amanhã</option>
        </select>
        <app-button [classname]="'primary'" [text]="addTaskButtonText" (click)="expandNewTaskField()"></app-button>
    </section>
    <section class="add-task">
        @if(newTaskFieldExpand){
            <form [formGroup]="createTaskForm">
                <div class="input-group">
                    <small><label for="title">Título</label></small>
                    <input formControlName="title" class="white" type="text" name="title" id="title" placeholder="Ex: Tarefa 1">
                </div>
                <div class="input-group">
                    <small><label for="toFinishAt">Data de conclusão da tarefa</label></small>
                    <input formControlName="toFinishAt" class="white" type="date" name="toFinishAt" id="toFinishAt" placeholder="Data de conclusão da tarefa">
                </div>
                <div class="checkbox">
                    <small><label for="isFocused">Destacar tarefa</label></small>
                    <input formControlName="isFocused" class="white" type="checkbox" name="isFocused" id="isFocused" placeholder="Destacar tarefa">
                </div>
                <div class="actions">
                    <app-button [classname]="'primary-green'" [text]="'Salvar'"></app-button>
                </div>
            </form>
        }
    </section>
    <section class="task-list">
        @if(taskList.length > 0){
            @for (taskItem of taskList; track $index) {
                <app-task [taskModel]="taskItem"></app-task>
            }
        }
        @else {
            <small><p class="no-found-task">Nenhuma tarefa encontrada</p></small>
        }
    </section>
</app-dashboard-base-layout>